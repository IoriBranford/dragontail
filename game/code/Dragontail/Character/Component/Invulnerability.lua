---@class Invulnerability
---@field invulntime integer?
local Invulnerability = {}

function Invulnerability:giveInvuln(time)
    local invulntime = self.invulntime or 0
    self.invulntime = math.max(invulntime, time)
end

function Invulnerability:updateInvuln()
    local invulntime = self.invulntime or 0
    if invulntime > 0 then
        self.invulntime = invulntime - 1
    end
end

function Invulnerability:getInvulnAlpha()
    local t = self.invulntime or 0
    if t == 0 then return 1 end
    return .5 + .125*math.cos(t)
end

return Invulnerability